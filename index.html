<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boolzapp</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    
    <div id="app">
        
        <header>
            <div id="bGreen"></div>
        </header>

        <main id="container">
            <div id="BoolzappChat">
                <!-- chat sinistra -->
                <div id="contatti">
                    <!-- profilo utente -->
                    <div id="profiloUtente">
                        <div id="paddingProfiloUtente">
                            <div id="imgeprofile">
                                <img src="img/avatar_1.png" class="imgAvatarUtente">
                                <span id="testoProfilo">Da sostituire</span>
                            </div>
                            <div id="iconeUtene">
                                <i class="fa-solid fa-circle-notch pIcons"></i>
                                <i class="fa-solid fa-message pIcons"></i>
                                <i class="fa-solid fa-ellipsis-vertical pIcons"></i>
                            </div>
                        </div>
                    </div>
                    <!-- chat sinistra con le chat aperte -->
                    <div class="chatUtenti">
                        <!-- ricerca utenti -->
                        <div class="ricercaUtenti clearfix">
                            <div class="pSearchChat">
                                <input class="opzioniInputText" v-model="ricercaInput" placeholder="🔍 Cerca o inizia una nuova chat">
                            </div>
                        </div>
                        <div v-for="(datiUtente, index) in datiUtentiChat" @click="sceltaChat(index)" v-show="datiUtente.visible">
                            <div class="clearfix bordoChat">
                                <div class="listaAvatarUtenti padingImg">
                                    <img :src="datiUtente.avatar" class="imgAvatarUtente">  <!--da sistemare-->
                                </div>
                                <div class="previewChat">
                                    <h3 class="textOptionH">{{ datiUtente.name }}</h3>
                                    <div class="directionpreviewChat">
                                        <span class="fontDate">{{ datiUtente.messages.at(-1).date }}</span>
                                    </div>
                                    <div>
                                        <p class="testoOptionP">{{ datiUtente.messages.at(-1).text }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="chat">
                    <!-- parte top della chat -->
                    <div id="parteAltaChat">
                        <div v-if="contatoreChat != null">
                            <div class="spazioAvatar padingImg">
                                <img :src="datiUtentiChat[contatoreChat].avatar" class="imgAvatarUtente">
                            </div>
                            <div class="infoUtenteChat">
                                <h3>{{ datiUtentiChat[contatoreChat].name }}</h3>
                                <p>{{ datiUtentiChat[contatoreChat].messages.at(-1).date }}</p>
                            </div>
                        </div>
                        <div id="opzioniChat">
                            <div class="graficaOpzioniChat">
                                <div class="pIcons">
                                    <i class="fa-solid fa-phone"></i>
                                </div>
                                <div class="pIcons">
                                    <i class="fa-solid fa-video"></i>
                                </div>
                                <div class="pIcons">
                                    <i class="fa-solid fa-magnifying-glass"></i>
                                </div>
                                <div class="pIcons">
                                    <i class="fa-solid fa-ellipsis"></i>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    <!-- chat vera e propria -->
                    
                    <div id="sfondochat">
                        <div v-if="contatoreChat != null" id="scrollChat">
                            <div v-for="elemento in datiUtentiChat[contatoreChat].messages">
                                <div v-if="elemento.status == 'sent'" class="clearfix widthChat">
                                    <div class="chatRight pChat">
                                        <span>{{ elemento.text }}</span>
                                    </div>
                                </div>
                                <div v-else class="spazioChat">
                                    <div class="chatLeft pChat">
                                        <span >{{ elemento.text }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="zonaInputChat clearfix">
                            <div class="emoticonLeft">
                                <i class="fa-solid fa-face-grin-wink"></i>
                                <i class="fa-solid fa-paperclip"></i>
                            </div>
                            <div class="inputCenter">
                                <input class="opzioniInputText" v-model="inputChatUtente" @keyup.enter="addTodo(contatoreChat)" placeholder="Scrivi un messaggio">
                            </div>
                            <div class="sendRight">
                                <i class="fa-solid fa-microphone"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

    </div>

    <!-- JS -->
    <script src="https://unpkg.com/dayjs@1.8.21/dayjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="main.js"></script>
</body>
</html>